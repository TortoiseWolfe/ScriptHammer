/* Blog Typography Enhancements */

/* Blog content specific styling */
.blog-post-viewer .prose {
  font-size: 1.125rem;
  line-height: 1.75;
  color: var(--base-content);
}

/* Larger font on desktop */
@media (min-width: 1024px) {
  .blog-post-viewer .prose {
    font-size: 1.25rem;
    line-height: 1.8;
  }

  .blog-post-viewer .prose p {
    font-size: 1.25rem;
    line-height: 1.9;
    margin-bottom: 2em !important;
  }
}

/* Enhanced paragraph spacing */
.blog-post-viewer .prose p {
  margin-bottom: 1.75em;
  font-weight: 400;
  line-height: 1.8;
}

/* Fix for Tailwind prose-xl and prose-2xl overrides */
.blog-post-viewer .prose-xl li,
.blog-post-viewer .prose-2xl li {
  margin-top: 2em !important;
  margin-bottom: 2em !important;
  padding-bottom: 2em !important;
}

/* Add visual separation for numbered list items */
.blog-post-viewer .prose-xl ol > li,
.blog-post-viewer .prose-2xl ol > li {
  border-bottom: 3px solid;
  border-color: oklch(var(--bc) / 0.1);
  padding-bottom: 3em !important;
  margin-bottom: 3em !important;
}

.blog-post-viewer .prose-xl ol > li:last-child,
.blog-post-viewer .prose-2xl ol > li:last-child {
  border-bottom: none;
}

/* Make H3 inside list items stand out */
.blog-post-viewer .prose-xl li > h3,
.blog-post-viewer .prose-2xl li > h3 {
  font-size: 1.75rem !important;
  font-weight: 700 !important;
  margin-top: 0 !important;
  margin-bottom: 1.5rem !important;
  color: oklch(var(--p));
}

/* Fix heading hierarchy for prose-xl and prose-2xl */
.blog-post-viewer .prose-xl h2,
.blog-post-viewer .prose-2xl h2 {
  font-size: 2.5rem !important;
  margin-top: 3rem !important;
  margin-bottom: 2rem !important;
  padding-top: 2rem !important;
  border-top: 4px solid;
  border-color: oklch(var(--p));
}

.blog-post-viewer .prose-xl h3:not(li h3),
.blog-post-viewer .prose-2xl h3:not(li h3) {
  font-size: 2rem !important;
  margin-top: 2.5rem !important;
  margin-bottom: 1.5rem !important;
}

/* Better blockquote styling */
.blog-post-viewer .prose blockquote {
  font-size: 1.125rem;
  border-left-width: 4px;
  padding-left: 1.5em;
  font-style: italic;
  opacity: 0.9;
}

/* Code blocks */
.blog-post-viewer .prose pre {
  font-size: 0.95rem;
  line-height: 1.6;
  padding: 1.5em;
}

.blog-post-viewer .prose code {
  font-size: 0.9em;
  padding: 0.2em 0.4em;
}

/* Limit line length for readability */
.blog-post-viewer .prose p,
.blog-post-viewer .prose li {
  max-width: 75ch;
}

/* TOC styling - smaller and less prominent */
.blog-post-viewer aside details summary {
  font-size: 0.95rem;
  opacity: 0.8;
  transition: opacity 0.2s;
}

.blog-post-viewer aside details summary:hover {
  opacity: 1;
}

.blog-post-viewer aside nav {
  font-size: 0.85rem;
  line-height: 1.6;
}

.blog-post-viewer aside nav a {
  color: var(--base-content);
  opacity: 0.7;
  transition: opacity 0.2s;
}

.blog-post-viewer aside nav a:hover {
  opacity: 1;
  color: var(--primary);
}

/* Mobile optimizations */
@media (max-width: 640px) {
  .blog-post-viewer .prose {
    font-size: 1.0625rem;
    line-height: 1.7;
  }

  .blog-post-viewer .prose h1 {
    font-size: 2rem;
  }

  .blog-post-viewer .prose h2 {
    font-size: 1.5rem;
  }

  .blog-post-viewer .prose h3 {
    font-size: 1.25rem;
  }
}

/* Force spacing between all elements in prose-xl and prose-2xl */
.blog-post-viewer .prose-xl > * + *,
.blog-post-viewer .prose-2xl > * + * {
  margin-top: 2rem !important;
}

/* Add background to sections after h2 */
.blog-post-viewer .prose-xl h2 + *,
.blog-post-viewer .prose-2xl h2 + * {
  padding: 2rem;
  background: oklch(var(--b2));
  border-radius: 1rem;
  margin-bottom: 2rem;
}

/* Images need more space */
.blog-post-viewer .prose img {
  margin-top: 2em;
  margin-bottom: 2em;
}

/* Dark mode adjustments */
@media (prefers-color-scheme: dark) {
  .blog-post-viewer .prose {
    color: rgba(255, 255, 255, 0.9);
  }

  .blog-post-viewer .prose strong {
    color: rgba(255, 255, 255, 0.95);
  }

  .blog-post-viewer .prose h2 {
    border-top-color: rgba(255, 255, 255, 0.1);
  }

  .blog-post-viewer .prose h3 {
    color: rgba(255, 255, 255, 0.9);
  }

  .blog-post-viewer .prose > ul > li,
  .blog-post-viewer .prose > ol > li {
    border-bottom-color: rgba(255, 255, 255, 0.05);
  }
}
