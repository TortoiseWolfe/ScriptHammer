<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
     viewBox="0 0 1920 1080" width="1920" height="1080">
  <defs>
    <linearGradient id="bg" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#c7ddf5"/>
      <stop offset="100%" stop-color="#b8d4f0"/>
    </linearGradient>
  </defs>

  <rect width="1920" height="1080" fill="url(#bg)"/>

  <!-- CENTERED TITLE -->
  <text x="960" y="28" text-anchor="middle" font-family="system-ui, sans-serif"
        font-size="20" font-weight="bold" fill="#1f2937">
    OAUTH MESSAGING - CREATE PASSWORD
  </text>

  <!-- Section labels -->
  <text x="40" y="52" fill="#8b5cf6" font-family="system-ui, sans-serif"
        font-size="18" font-weight="bold">DESKTOP (16:9)</text>
  <text x="1500" y="52" fill="#d946ef" font-family="system-ui, sans-serif"
        font-size="15" font-weight="bold">MOBILE</text>

  <!-- DESKTOP (1280x720) -->
  <g id="desktop" transform="translate(40, 60)">
    <rect width="1280" height="720" rx="8" fill="#e8d4b8" stroke="#b8a080"/>
    <use href="includes/header-desktop.svg#desktop-header" x="0" y="0"/>

    <!-- Modal overlay (DARK - required for modal detection) -->
    <rect width="1280" height="720" fill="#000" opacity="0.5"/>

    <!-- Modal content -->
    <g transform="translate(340, 100)">
      <rect width="600" height="520" rx="12" fill="#e8d4b8" stroke="#b8a080" stroke-width="2"/>

      <!-- OAuth Provider Badge -->
      <g transform="translate(230, 20)">
        <rect width="140" height="32" rx="16" fill="#4285f4"/>
        <text x="70" y="21" text-anchor="middle" font-family="system-ui, sans-serif"
              font-size="14" font-weight="600" fill="#e8d4b8">Google User</text>
      </g>

      <!-- Callout 1 - on provider badge -->
      <circle cx="390" cy="36" r="14" fill="#dc2626"/>
      <text x="390" y="41" text-anchor="middle" font-family="system-ui, sans-serif"
            font-size="14" font-weight="bold" fill="#e8d4b8">1</text>

      <!-- Modal Title -->
      <text x="300" y="85" text-anchor="middle" font-family="system-ui, sans-serif"
            font-size="22" font-weight="bold" fill="#374151">Create a Messaging Password</text>

      <!-- Explanation text -->
      <text x="300" y="115" text-anchor="middle" font-family="system-ui, sans-serif"
            font-size="14" fill="#4b5563">Your messages are end-to-end encrypted.</text>
      <text x="300" y="135" text-anchor="middle" font-family="system-ui, sans-serif"
            font-size="14" fill="#4b5563">Create a separate password to protect your encryption keys.</text>

      <!-- Callout 2 - on explanation -->
      <circle cx="560" cy="125" r="14" fill="#dc2626"/>
      <text x="560" y="130" text-anchor="middle" font-family="system-ui, sans-serif"
            font-size="14" font-weight="bold" fill="#e8d4b8">2</text>

      <!-- Password field -->
      <text x="50" y="180" font-family="system-ui, sans-serif"
            font-size="14" font-weight="600" fill="#374151">Messaging Password</text>
      <rect x="50" y="190" width="500" height="48" rx="6" fill="#f5f0e6" stroke="#b8a080"/>
      <text x="70" y="220" font-family="system-ui, sans-serif"
            font-size="14" fill="#9ca3af">Enter a secure password</text>

      <!-- Confirm Password field -->
      <text x="50" y="265" font-family="system-ui, sans-serif"
            font-size="14" font-weight="600" fill="#374151">Confirm Password</text>
      <rect x="50" y="275" width="500" height="48" rx="6" fill="#f5f0e6" stroke="#b8a080"/>
      <text x="70" y="305" font-family="system-ui, sans-serif"
            font-size="14" fill="#9ca3af">Re-enter your password</text>

      <!-- Callout 3 - on form fields -->
      <circle cx="570" cy="230" r="14" fill="#dc2626"/>
      <text x="570" y="235" text-anchor="middle" font-family="system-ui, sans-serif"
            font-size="14" font-weight="bold" fill="#e8d4b8">3</text>

      <!-- Password Strength Indicator -->
      <text x="50" y="355" font-family="system-ui, sans-serif"
            font-size="14" font-weight="600" fill="#374151">Password Strength</text>
      <rect x="50" y="365" width="500" height="8" rx="4" fill="#dcc8a8"/>
      <rect x="50" y="365" width="300" height="8" rx="4" fill="#22c55e"/>
      <text x="555" y="373" text-anchor="end" font-family="system-ui, sans-serif"
            font-size="14" fill="#22c55e">Good</text>

      <!-- Callout 4 - on strength indicator -->
      <circle cx="410" cy="369" r="14" fill="#dc2626"/>
      <text x="410" y="374" text-anchor="middle" font-family="system-ui, sans-serif"
            font-size="14" font-weight="bold" fill="#e8d4b8">4</text>

      <!-- Warning note -->
      <rect x="50" y="395" width="500" height="50" rx="6" fill="#fef3c7" stroke="#f59e0b"/>
      <text x="70" y="420" font-family="system-ui, sans-serif"
            font-size="14" fill="#92400e">Important: This password cannot be recovered.</text>
      <text x="70" y="438" font-family="system-ui, sans-serif"
            font-size="14" fill="#92400e">Encrypted messages will be lost if forgotten.</text>

      <!-- Create Button -->
      <rect x="150" y="460" width="300" height="44" rx="6" fill="#8b5cf6"/>
      <text x="300" y="488" text-anchor="middle" font-family="system-ui, sans-serif"
            font-size="16" font-weight="600" fill="#e8d4b8">Create Messaging Password</text>
    </g>

    <!-- Footer AFTER modal (G-021 paint order) -->
    <use href="includes/footer-desktop.svg#site-footer" x="0" y="640"/>
  </g>

  <!-- MOBILE (360x720) -->
  <g id="mobile" transform="translate(1360, 60)">
    <rect width="360" height="720" rx="24" fill="#e8d4b8" stroke="#b8a080"/>
    <use href="includes/header-mobile.svg#mobile-header-group" x="0" y="0"/>

    <!-- Modal overlay (DARK) -->
    <rect y="78" width="360" height="586" fill="#000" opacity="0.5"/>

    <!-- Modal content - Mobile (y starts at 100, within safe area y>=78) -->
    <g transform="translate(20, 100)">
      <rect width="320" height="500" rx="12" fill="#e8d4b8" stroke="#b8a080" stroke-width="2"/>

      <!-- OAuth Provider Badge -->
      <g transform="translate(90, 15)">
        <rect width="140" height="28" rx="14" fill="#4285f4"/>
        <text x="70" y="19" text-anchor="middle" font-family="system-ui, sans-serif"
              font-size="14" font-weight="600" fill="#e8d4b8">Google User</text>
      </g>

      <!-- Callout 1 -->
      <circle cx="245" cy="29" r="14" fill="#dc2626"/>
      <text x="245" y="34" text-anchor="middle" font-family="system-ui, sans-serif"
            font-size="14" font-weight="bold" fill="#e8d4b8">1</text>

      <!-- Modal Title -->
      <text x="160" y="65" text-anchor="middle" font-family="system-ui, sans-serif"
            font-size="16" font-weight="bold" fill="#374151">Create Messaging Password</text>

      <!-- Explanation -->
      <text x="160" y="90" text-anchor="middle" font-family="system-ui, sans-serif"
            font-size="14" fill="#4b5563">Messages are end-to-end encrypted.</text>
      <text x="160" y="108" text-anchor="middle" font-family="system-ui, sans-serif"
            font-size="14" fill="#4b5563">Create a password for your keys.</text>

      <!-- Callout 2 -->
      <circle cx="295" cy="99" r="14" fill="#dc2626"/>
      <text x="295" y="104" text-anchor="middle" font-family="system-ui, sans-serif"
            font-size="14" font-weight="bold" fill="#e8d4b8">2</text>

      <!-- Password field -->
      <text x="20" y="145" font-family="system-ui, sans-serif"
            font-size="14" font-weight="600" fill="#374151">Messaging Password</text>
      <rect x="20" y="155" width="280" height="44" rx="6" fill="#f5f0e6" stroke="#b8a080"/>

      <!-- Confirm Password field -->
      <text x="20" y="220" font-family="system-ui, sans-serif"
            font-size="14" font-weight="600" fill="#374151">Confirm Password</text>
      <rect x="20" y="230" width="280" height="44" rx="6" fill="#f5f0e6" stroke="#b8a080"/>

      <!-- Callout 3 -->
      <circle cx="295" cy="200" r="14" fill="#dc2626"/>
      <text x="295" y="205" text-anchor="middle" font-family="system-ui, sans-serif"
            font-size="14" font-weight="bold" fill="#e8d4b8">3</text>

      <!-- Password Strength -->
      <text x="20" y="305" font-family="system-ui, sans-serif"
            font-size="14" font-weight="600" fill="#374151">Strength</text>
      <rect x="20" y="315" width="280" height="8" rx="4" fill="#dcc8a8"/>
      <rect x="20" y="315" width="170" height="8" rx="4" fill="#22c55e"/>
      <text x="300" y="321" text-anchor="end" font-family="system-ui, sans-serif"
            font-size="14" fill="#22c55e">Good</text>

      <!-- Callout 4 -->
      <circle cx="220" cy="318" r="14" fill="#dc2626"/>
      <text x="220" y="323" text-anchor="middle" font-family="system-ui, sans-serif"
            font-size="14" font-weight="bold" fill="#e8d4b8">4</text>

      <!-- Warning note -->
      <rect x="20" y="340" width="280" height="50" rx="6" fill="#fef3c7" stroke="#f59e0b"/>
      <text x="30" y="362" font-family="system-ui, sans-serif"
            font-size="14" fill="#92400e">Password cannot be recovered.</text>
      <text x="30" y="380" font-family="system-ui, sans-serif"
            font-size="14" fill="#92400e">Messages will be lost if forgotten.</text>

      <!-- Create Button -->
      <rect x="20" y="405" width="280" height="44" rx="6" fill="#8b5cf6"/>
      <text x="160" y="433" text-anchor="middle" font-family="system-ui, sans-serif"
            font-size="14" font-weight="600" fill="#e8d4b8">Create Password</text>
    </g>

    <use href="includes/footer-mobile.svg#mobile-bottom-nav" x="0" y="664"/>
  </g>

  <!-- ANNOTATIONS -->
  <g id="annotations" transform="translate(40, 800)">
    <rect width="1840" height="220" rx="8" fill="#dcc8a8" stroke="#b8a080"/>

    <!-- Group 1: OAuth User Creates Password (x=20) -->
    <g transform="translate(20, 20)">
      <circle cx="14" cy="14" r="14" fill="#dc2626"/>
      <text x="14" y="19" text-anchor="middle" font-family="system-ui, sans-serif"
            font-size="14" font-weight="bold" fill="#e8d4b8">1</text>
      <text x="40" y="14" font-family="system-ui, sans-serif"
            font-size="16" font-weight="bold" fill="#1f2937">OAuth User Creates Password</text>
      <text x="40" y="34" font-family="system-ui, sans-serif"
            font-size="14" fill="#374151">As a Google/GitHub user, I need to create a</text>
      <text x="40" y="52" font-family="system-ui, sans-serif"
            font-size="14" fill="#374151">separate messaging password for encryption.</text>
      <a href="#US-001"><rect x="40" y="62" width="55" height="22" rx="4" fill="#0891b2"/><text x="67" y="77" text-anchor="middle" font-family="system-ui, sans-serif" font-size="12" fill="#e8d4b8">US-001</text></a>
      <a href="#FR-004"><rect x="101" y="62" width="55" height="22" rx="4" fill="#2563eb"/><text x="128" y="77" text-anchor="middle" font-family="system-ui, sans-serif" font-size="12" fill="#e8d4b8">FR-004</text></a>
      <a href="#FR-005"><rect x="162" y="62" width="55" height="22" rx="4" fill="#2563eb"/><text x="189" y="77" text-anchor="middle" font-family="system-ui, sans-serif" font-size="12" fill="#e8d4b8">FR-005</text></a>
      <a href="#SC-001"><rect x="223" y="62" width="55" height="22" rx="4" fill="#ea580c"/><text x="250" y="77" text-anchor="middle" font-family="system-ui, sans-serif" font-size="12" fill="#e8d4b8">SC-001</text></a>
    </g>

    <!-- Group 2: Provider Detection (x=470) - Include US-002 reference -->
    <g transform="translate(470, 20)">
      <circle cx="14" cy="14" r="14" fill="#dc2626"/>
      <text x="14" y="19" text-anchor="middle" font-family="system-ui, sans-serif"
            font-size="14" font-weight="bold" fill="#e8d4b8">2</text>
      <text x="40" y="14" font-family="system-ui, sans-serif"
            font-size="16" font-weight="bold" fill="#1f2937">Provider Detection</text>
      <text x="40" y="34" font-family="system-ui, sans-serif"
            font-size="14" fill="#374151">System detects OAuth provider and shows badge.</text>
      <text x="40" y="52" font-family="system-ui, sans-serif"
            font-size="14" fill="#374151">Explains why separate password is needed.</text>
      <a href="#US-002"><rect x="40" y="62" width="55" height="22" rx="4" fill="#0891b2"/><text x="67" y="77" text-anchor="middle" font-family="system-ui, sans-serif" font-size="12" fill="#e8d4b8">US-002</text></a>
      <a href="#FR-001"><rect x="101" y="62" width="55" height="22" rx="4" fill="#2563eb"/><text x="128" y="77" text-anchor="middle" font-family="system-ui, sans-serif" font-size="12" fill="#e8d4b8">FR-001</text></a>
      <a href="#FR-002"><rect x="162" y="62" width="55" height="22" rx="4" fill="#2563eb"/><text x="189" y="77" text-anchor="middle" font-family="system-ui, sans-serif" font-size="12" fill="#e8d4b8">FR-002</text></a>
      <a href="#FR-012"><rect x="223" y="62" width="55" height="22" rx="4" fill="#2563eb"/><text x="250" y="77" text-anchor="middle" font-family="system-ui, sans-serif" font-size="12" fill="#e8d4b8">FR-012</text></a>
    </g>

    <!-- Group 3: Password Validation (x=920) - Include US-003 reference -->
    <g transform="translate(920, 20)">
      <circle cx="14" cy="14" r="14" fill="#dc2626"/>
      <text x="14" y="19" text-anchor="middle" font-family="system-ui, sans-serif"
            font-size="14" font-weight="bold" fill="#e8d4b8">3</text>
      <text x="40" y="14" font-family="system-ui, sans-serif"
            font-size="16" font-weight="bold" fill="#1f2937">Password Validation</text>
      <text x="40" y="34" font-family="system-ui, sans-serif"
            font-size="14" fill="#374151">Matching passwords required with confirm field.</text>
      <text x="40" y="52" font-family="system-ui, sans-serif"
            font-size="14" fill="#374151">Clear error messages guide correction.</text>
      <a href="#US-003"><rect x="40" y="62" width="55" height="22" rx="4" fill="#0891b2"/><text x="67" y="77" text-anchor="middle" font-family="system-ui, sans-serif" font-size="12" fill="#e8d4b8">US-003</text></a>
      <a href="#FR-006"><rect x="101" y="62" width="55" height="22" rx="4" fill="#2563eb"/><text x="128" y="77" text-anchor="middle" font-family="system-ui, sans-serif" font-size="12" fill="#e8d4b8">FR-006</text></a>
      <a href="#SC-006"><rect x="162" y="62" width="55" height="22" rx="4" fill="#ea580c"/><text x="189" y="77" text-anchor="middle" font-family="system-ui, sans-serif" font-size="12" fill="#e8d4b8">SC-006</text></a>
    </g>

    <!-- Group 4: Strength and Accessibility (x=1370) -->
    <g transform="translate(1370, 20)">
      <circle cx="14" cy="14" r="14" fill="#dc2626"/>
      <text x="14" y="19" text-anchor="middle" font-family="system-ui, sans-serif"
            font-size="14" font-weight="bold" fill="#e8d4b8">4</text>
      <text x="40" y="14" font-family="system-ui, sans-serif"
            font-size="16" font-weight="bold" fill="#1f2937">Strength and Accessibility</text>
      <text x="40" y="34" font-family="system-ui, sans-serif"
            font-size="14" fill="#374151">Visual strength indicator guides users.</text>
      <text x="40" y="52" font-family="system-ui, sans-serif"
            font-size="14" fill="#374151">Accessible labels for screen readers.</text>
      <a href="#FR-007"><rect x="40" y="62" width="55" height="22" rx="4" fill="#2563eb"/><text x="67" y="77" text-anchor="middle" font-family="system-ui, sans-serif" font-size="12" fill="#e8d4b8">FR-007</text></a>
      <a href="#FR-015"><rect x="101" y="62" width="55" height="22" rx="4" fill="#2563eb"/><text x="128" y="77" text-anchor="middle" font-family="system-ui, sans-serif" font-size="12" fill="#e8d4b8">FR-015</text></a>
      <a href="#FR-016"><rect x="162" y="62" width="55" height="22" rx="4" fill="#2563eb"/><text x="189" y="77" text-anchor="middle" font-family="system-ui, sans-serif" font-size="12" fill="#e8d4b8">FR-016</text></a>
      <a href="#FR-017"><rect x="223" y="62" width="55" height="22" rx="4" fill="#2563eb"/><text x="250" y="77" text-anchor="middle" font-family="system-ui, sans-serif" font-size="12" fill="#e8d4b8">FR-017</text></a>
    </g>
  </g>

  <!-- Key Concepts Row (G-047) -->
  <text x="40" y="940" font-family="system-ui, sans-serif" font-size="14" font-weight="bold" fill="#374151">Key Concepts:</text>
  <text x="140" y="940" font-family="system-ui, sans-serif" font-size="14" fill="#374151">OAuth password | secure messaging | encrypted storage</text>

  <!-- SIGNATURE -->
  <text x="40" y="1060" fill="#374151" font-family="system-ui, sans-serif" font-size="18" font-weight="bold">013:01 | OAuth Messaging Password | ScriptHammer</text>
</svg>
