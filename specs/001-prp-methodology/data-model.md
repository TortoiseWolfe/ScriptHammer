# Data Model: PRP Methodology Documentation

**Feature**: 001-prp-methodology
**Phase**: 1 - Design
**Date**: 2025-09-30

## Overview

This feature creates **documentation entities** (markdown files) that describe the PRP/SpecKit workflow. There is no runtime data model, no database, and no API. However, we can model the **conceptual entities** that the documentation describes.

---

## Entity Definitions

### 1. PRP Document

**Description**: Product Requirements Prompt - a structured document defining a feature from a product perspective.

**Attributes**:

- `name`: Feature name (e.g., "Visual Regression Testing")
- `number`: Sequential identifier (e.g., "012")
- `priority`: P0 (Critical), P1 (Important), P2 (Nice to have), P3 (Future)
- `status`: Inbox, Ready, In Progress, In Review, Completed, Blocked
- `created_date`: When PRP was written
- `author`: Who wrote it
- `sections`: Array of 7 sections:
  1. Product Requirements (What, Why, Success Criteria, Out of Scope)
  2. Context & Codebase Intelligence
  3. Technical Specifications
  4. Implementation Runbook
  5. Validation Loops
  6. Risk Mitigation
  7. References

**File Location**: `docs/prp-docs/<name>-prp.md`

**Lifecycle**:

```
Created → Reviewed → Approved → Converted to Feature Branch → Implemented → Completed
```

**Relationships**:

- **Converts to**: SpecKit Specification (via `/specify`)
- **Tracked in**: PRP Status Dashboard

---

### 2. SpecKit Specification

**Description**: Implementation-focused specification generated from PRP by `/specify` command.

**Attributes**:

- `feature_name`: Derived from PRP
- `branch_name`: Git branch (e.g., "012-visual-regression")
- `created_date`: When `/specify` ran
- `status`: Draft, Clarified, Planned, Tasked, Implemented
- `sections`:
  - Execution Flow (validation steps)
  - User Scenarios (Given/When/Then)
  - Functional Requirements (FR-001, FR-002, ...)
  - Non-Functional Requirements (NFR-001, ...)
  - Key Entities (if data involved)
  - Success Metrics (SM-001, ...)
  - Scope & Boundaries
  - Risks & Mitigations

**File Location**: `specs/<branch>/spec.md`

**Lifecycle**:

```
Generated by /specify → Clarified by /clarify (optional) → Used by /plan
```

**Relationships**:

- **Generated from**: PRP Document
- **Input to**: Implementation Plan
- **May be refined by**: Clarifications

---

### 3. Clarification

**Description**: Question/answer pair that resolves ambiguities in a specification.

**Attributes**:

- `session_date`: When clarification session occurred
- `question`: Specific ambiguity question
- `answer`: User's response
- `category`: Which taxonomy category (Functional Scope, Data Model, etc.)
- `section_updated`: Which spec section was modified

**File Location**: Embedded in `specs/<branch>/spec.md` under `## Clarifications` section

**Lifecycle**:

```
Question Generated → User Answers → Spec Updated → Validation
```

**Relationships**:

- **Updates**: SpecKit Specification
- **Generated by**: `/clarify` command

---

### 4. Implementation Plan

**Description**: Technical plan for implementing the feature, including architecture, tech stack, and phases.

**Attributes**:

- `branch`: Feature branch name
- `date_created`: When `/plan` ran
- `summary`: Extract from spec (primary requirement + approach)
- `technical_context`: Language, dependencies, storage, testing, platform
- `constitution_check`: Compliance with 6 core principles
- `architecture`: Design approach, information architecture, content strategy
- `phases`:
  - Phase 0: Research (complete)
  - Phase 1: Design artifacts (complete)
  - Phase 2: Task breakdown (planned by /plan, executed by /tasks)
- `file_changes`: New files, modified files, total volume
- `dependencies`: Internal and external
- `success_criteria`: Validation method, metrics
- `risks`: Identified risks and mitigations

**File Location**: `specs/<branch>/plan.md`

**Lifecycle**:

```
Generated by /plan → Reviews Constitution → Generates Artifacts → Ready for /tasks
```

**Relationships**:

- **Derived from**: SpecKit Specification
- **Generates**: Research, Data Model, Quickstart, Contracts (Phase 0-1)
- **Input to**: Task List

---

### 5. Research Document

**Description**: Phase 0 output documenting technical research and decisions.

**Attributes**:

- `research_questions`: Questions to be answered
- `findings`: Analysis results
- `technical_decisions`: Choices made and rationales
- `alternatives_considered`: Options evaluated
- `recommendations`: Guidance for implementation

**File Location**: `specs/<branch>/research.md`

**Lifecycle**:

```
Generated by /plan Phase 0 → Informs Design → Referenced in Tasks
```

**Relationships**:

- **Generated by**: Implementation Plan (Phase 0)
- **Informs**: Data Model, Contracts, Quickstart

---

### 6. Data Model Document

**Description**: Phase 1 output defining entities, schemas, relationships (if feature involves data).

**Attributes**:

- `entities`: List of data entities
- `attributes_per_entity`: Fields, types, constraints
- `relationships`: How entities connect
- `lifecycle`: State transitions
- `validation_rules`: Data integrity rules

**File Location**: `specs/<branch>/data-model.md`

**Lifecycle**:

```
Generated by /plan Phase 1 → Referenced in Tasks → Guides Implementation
```

**Relationships**:

- **Generated by**: Implementation Plan (Phase 1)
- **Input to**: Task List (model creation tasks)

**Note**: For PRP-001 (documentation feature), this models conceptual entities, not runtime data.

---

### 7. Quickstart Guide

**Description**: Phase 1 output with integration scenarios, user flows, test scenarios.

**Attributes**:

- `scenarios`: Step-by-step workflows
- `test_cases`: Validation scenarios
- `setup_instructions`: How to get started
- `common_patterns`: Reusable approaches

**File Location**: `specs/<branch>/quickstart.md`

**Lifecycle**:

```
Generated by /plan Phase 1 → Referenced in Tasks → Guides Testing
```

**Relationships**:

- **Generated by**: Implementation Plan (Phase 1)
- **Input to**: Task List (integration test tasks)

---

### 8. Task List

**Description**: Numbered, dependency-ordered list of implementation tasks.

**Attributes**:

- `feature_name`: From plan
- `total_tasks`: Count
- `phases`:
  - Setup Tasks
  - Test Tasks [P]
  - Core Implementation
  - Integration Tasks
  - Polish Tasks [P]
- `tasks`: Array of:
  - `id`: T001, T002, ...
  - `description`: What to do
  - `status`: [ ], [X]
  - `parallel`: true/false ([P] marker)
  - `file_paths`: Which files to create/modify
  - `dependencies`: Which tasks must complete first
  - `acceptance_criteria`: How to verify completion

**File Location**: `specs/<branch>/tasks.md`

**Lifecycle**:

```
Generated by /tasks → Executed by /implement (or manually) → Marked complete [X]
```

**Relationships**:

- **Generated from**: Implementation Plan + all Phase 1 artifacts
- **Executed by**: Developer or `/implement` command
- **Input to**: Analysis (via `/analyze`)

---

### 9. Implementation

**Description**: The actual code/documentation produced by executing tasks.

**Attributes**:

- `files_created`: List of new files
- `files_modified`: List of changed files
- `tests_written`: Test files and coverage
- `documentation_updated`: Docs changed
- `completion_date`: When finished

**File Location**: Various (source code, docs, etc.)

**Lifecycle**:

```
Executed per Task → Tests Pass → Validated → Merged
```

**Relationships**:

- **Guided by**: Task List
- **Validates**: SpecKit Specification (meets requirements)
- **Completes**: PRP Document (closes the loop)

---

## Entity Relationships

```
PRP Document
    ↓ (via /specify)
SpecKit Specification
    ↓ (optional via /clarify)
Clarifications → Updates Specification
    ↓ (via /plan)
Implementation Plan
    ├─→ (Phase 0) Research Document
    ├─→ (Phase 1) Data Model Document
    ├─→ (Phase 1) Quickstart Guide
    └─→ (Phase 1) Contracts (if applicable)
    ↓ (via /tasks)
Task List
    ↓ (via /implement or manual)
Implementation
    ↓ (validates)
SpecKit Specification (requirements met)
    ↓ (completes)
PRP Document (success criteria achieved)
```

---

## Lifecycle States

### PRP Document States

1. **Created**: PRP file written
2. **Reviewed**: Team reviewed
3. **Approved**: Ready to implement
4. **In Progress**: Feature branch active
5. **Completed**: Merged to main

### SpecKit Specification States

1. **Draft**: Generated by `/specify`
2. **Clarified**: After `/clarify` (if needed)
3. **Planned**: After `/plan` completes
4. **Tasked**: After `/tasks` generates list
5. **Implementing**: Tasks in progress
6. **Validated**: All requirements met

### Task States

1. **Pending**: `[ ]` Not started
2. **In Progress**: Currently working
3. **Completed**: `[X]` Done and validated

---

## Documentation Entities for PRP-001

Since this is a documentation feature, here are the actual entities being created:

### PRP Methodology Documentation Set

**Entity**: Documentation Collection

**Components**:

1. **prp-methodology-prp.md** (already created)
   - Type: PRP Document
   - Purpose: Define the methodology
   - Size: ~900 lines

2. **SPECKIT-PRP-GUIDE.md** (to be created)
   - Type: Quick Reference
   - Purpose: One-page cheat sheet
   - Size: ~200 lines

3. **Updated PRP-WORKFLOW.md** (to be modified)
   - Type: Workflow Documentation
   - Purpose: Add SpecKit integration section
   - Size: +100 lines

4. **Updated CLAUDE.md** (to be modified)
   - Type: Project Instructions
   - Purpose: Link to PRP/SpecKit docs
   - Size: +50 lines

**Relationships**:

- prp-methodology-prp.md → comprehensive guide
- SPECKIT-PRP-GUIDE.md → quick reference (extracted from comprehensive)
- PRP-WORKFLOW.md → workflow context (before/after SpecKit)
- CLAUDE.md → discovery (how to find the docs)

---

## Validation Rules

### For PRP Documents

- MUST have all 7 sections
- MUST have measurable success criteria
- MUST define out of scope
- SHOULD include code examples in Context section

### For SpecKit Specifications

- MUST have User Scenarios (Given/When/Then)
- MUST have Functional Requirements (FR-001, ...)
- MUST have Success Metrics (SM-001, ...)
- NO [NEEDS CLARIFICATION] markers in final spec

### For Implementation Plans

- MUST pass Constitution Check
- MUST define all phases
- MUST list file changes
- MUST identify dependencies

### For Task Lists

- MUST be numbered (T001, T002, ...)
- MUST show dependencies
- MUST mark parallel tasks with [P]
- MUST include acceptance criteria

---

## Storage

**No Database**: All entities are markdown files in git repository.

**File Locations**:

```
docs/prp-docs/           # PRP Documents, PRP Status
specs/<branch>/          # SpecKit Specs, Plans, Artifacts, Tasks
src/                     # Implementations (if code features)
```

**Version Control**: Git tracks all changes, provides history, enables rollback.

---

**Phase 1 Data Model Complete**: Conceptual entities defined for documentation
